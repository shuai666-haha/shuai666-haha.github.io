(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{15:function(e,t,a){var s=a(52).create({baseURL:"https://conduit.productionready.io"});e.exports={obj:s}},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t),a.d(t,"addFavorite",(function(){return n})),a.d(t,"deleteFavorite",(function(){return r}));var s=a(15),c=a(3),i=a.n(c),n=function(e){var t=e.slug;return s.obj.interceptors.request.use((function(e){return e.headers.Authorization=" Token "+i.a.get("cook"),e}),(function(e){return Promise.reject(e)})),Object(s.obj)({method:"POST",url:"/api/articles/".concat(t,"/favorite")})},r=function(e){var t=e.slug;return s.obj.interceptors.request.use((function(e){return e.headers.Authorization=" Token "+i.a.get("cook"),e}),(function(e){return Promise.reject(e)})),Object(s.obj)({method:"DELETE",url:"/api/articles/".concat(t,"/favorite")})}},72:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),i=a(33),n=a.n(i),r=(a(40),a(41),a(5)),l=a(6),o=a(8),j=a(7),d=(a(42),a(43),a(13)),h=a(3),b=a.n(h),m=a(17),u=a.n(m),p=a(0),O=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={msg:""},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return u.a.subscribe("token",(function(t,a){e.setState({msg:a})})),Object(p.jsx)("div",{children:Object(p.jsx)("nav",{className:"navbar navbar-light",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(d.b,{className:"navbar-brand",to:"/home",children:"conduit"}),Object(p.jsxs)("ul",{className:"nav navbar-nav pull-xs-right",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(d.c,{className:"nav-link ",to:"/home",activeClassName:"active",children:"Home"})}),Object(p.jsx)("li",{className:"nav-item",style:{display:void 0===b.a.get("cook")?"block":"none"},children:Object(p.jsx)(d.c,{className:"nav-link",to:"/login",activeClassName:"active",children:"Sign in"})}),Object(p.jsx)("li",{className:"nav-item",style:{display:void 0===b.a.get("cook")?"block":"none"},children:Object(p.jsx)(d.c,{className:"nav-link",to:"/register",activeClassName:"active",children:"Sign up"})}),Object(p.jsx)("li",{className:"nav-item",style:{display:void 0===b.a.get("cook")?"none":"block"},children:Object(p.jsxs)(d.c,{className:"nav-link",to:"/create",activeClassName:"active",children:[Object(p.jsx)("i",{className:"ion-compose"}),"\xa0 New Article"]})}),Object(p.jsx)("li",{className:"nav-item",style:{display:void 0===b.a.get("cook")?"none":"block"},children:Object(p.jsxs)(d.c,{className:"nav-link",to:"/settings",activeClassName:"active",children:[Object(p.jsx)("i",{className:"ion-gear-a"}),"\xa0  Settings"]})}),Object(p.jsx)("li",{className:"nav-item",style:{display:void 0===b.a.get("cook")?"none":"block"},children:Object(p.jsxs)(d.c,{className:"nav-link itemimg",to:"/profile",activeClassName:"active",children:[Object(p.jsx)("img",{src:"https://z3.ax1x.com/2021/04/29/gkpZU1.jpg"}),Object(p.jsx)("span",{children:"shuai666666"})]})})]})]})})})}}]),a}(c.a.Component),x=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)("footer",{children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("a",{href:"/",className:"logo-font",children:"conduit"}),Object(p.jsxs)("span",{className:"attribution",children:["An interactive learning project from ",Object(p.jsx)("a",{href:"https://thinkster.io",children:"Thinkster"}),". Code & design licensed under MIT."]})]})})})}}]),a}(c.a.Component),f=a(23),v=a.n(f),g=a(35),N=a(14),k=a(15).obj,y=a(71),w=y.addFavorite,S=y.deleteFavorite,C=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={data:{articles:[]},mainlist:[],rows:10,activepage:0,disabledbtn:!1},e.toggle=e.toggle.bind(Object(N.a)(e)),e.clickcont=e.clickcont.bind(Object(N.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;k({method:"get",url:"/api/articles",params:{limit:this.state.rows}}).then((function(t){for(var a=[],s=0;s<t.data.articlesCount/e.state.rows;s++)a.push(s);e.setState({mainlist:a,data:t.data})}))}},{key:"toggle",value:function(e){var t=this;return function(a){a.preventDefault(),k({method:"get",url:"/api/articles",params:{limit:t.state.rows,offset:e*t.state.rows}}).then((function(a){t.setState({data:a.data,activepage:e})}))}}},{key:"clickcont",value:function(){var e=Object(g.a)(v.a.mark((function e(t,a){var s=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({disabledbtn:!0}),!t.favorited){e.next=6;break}return e.next=4,S(t).then((function(e){var t=e.data.article,c=s.state.data.articles.map((function(e,s){return a==s?t:e}));s.setState({data:{articles:c}})}));case 4:e.next=8;break;case 6:return e.next=8,w(t).then((function(e){var t=e.data.article,c=s.state.data.articles.map((function(e,s){return a==s?t:e}));s.setState({data:{articles:c}})}));case 8:this.setState({disabledbtn:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"home-page",children:[Object(p.jsx)("div",{className:"banner",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h1",{className:"logo-font",children:"conduit"}),Object(p.jsx)("p",{children:"A place to share your knowledge."})]})}),Object(p.jsx)("div",{className:"container page",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-md-9",children:[Object(p.jsx)("div",{className:"feed-toggle",children:Object(p.jsxs)("ul",{className:"nav nav-pills outline-active",children:[Object(p.jsx)("li",{className:"nav-item",style:{display:b.a.get("cook")?"blck":"none"},children:Object(p.jsx)("a",{className:"nav-link disabled",href:"",children:"Your Feed"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{className:"nav-link active",href:"",children:"Global Feed"})})]})}),this.state.data.articles.map((function(t,a){return Object(p.jsxs)("div",{className:"article-preview",children:[Object(p.jsxs)("div",{className:"article-meta",children:[Object(p.jsx)("a",{href:"profile.html",children:Object(p.jsx)("img",{src:t.author.image})}),Object(p.jsxs)("div",{className:"info",children:[Object(p.jsx)("a",{href:"",className:"author",children:t.author.username}),Object(p.jsx)("span",{className:"date",children:t.createdAt})]}),Object(p.jsx)("button",{className:"btn btn-outline-primary btn-sm pull-xs-right",onClick:function(){e.clickcont(t,a)},disabled:e.state.disabledbtn,children:Object(p.jsx)("i",{className:"ion-heart",children:t.favoritesCount})})]}),Object(p.jsxs)("a",{href:"",className:"preview-link",children:[Object(p.jsx)("h1",{children:t.title}),Object(p.jsx)("p",{children:t.description}),Object(p.jsx)("span",{children:"Read more..."})]})]},a)})),Object(p.jsx)("div",{className:"bottom-page ng-isolate-scope",children:Object(p.jsx)("nav",{children:Object(p.jsx)("ul",{className:"pagination",children:this.state.mainlist.map((function(t,a){return Object(p.jsx)("li",{className:e.state.activepage==a?"page-item ng-scope active":"page-item ng-scope",onClick:e.toggle(a),children:Object(p.jsx)("a",{className:"page-link ng-binding",href:"",children:t+1})},a)}))})})})]}),Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsxs)("div",{className:"sidebar",children:[Object(p.jsx)("p",{children:"Popular Tags"}),Object(p.jsxs)("div",{className:"tag-list",children:[Object(p.jsx)("a",{href:"",className:"tag-pill tag-default",children:"programming"}),Object(p.jsx)("a",{href:"",className:"tag-pill tag-default",children:"javascript"}),Object(p.jsx)("a",{href:"",className:"tag-pill tag-default",children:"emberjs"}),Object(p.jsx)("a",{href:"",className:"tag-pill tag-default",children:"angularjs"}),Object(p.jsx)("a",{href:"",className:"tag-pill tag-default",children:"react"}),Object(p.jsx)("a",{href:"",className:"tag-pill tag-default",children:"mean"}),Object(p.jsx)("a",{href:"",className:"tag-pill tag-default",children:"node"}),Object(p.jsx)("a",{href:"",className:"tag-pill tag-default",children:"rails"})]})]})})]})})]})})}}]),a}(c.a.Component),T=a(15).obj,A=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"unameipt",value:function(e){u.a.publish("uname",e.target.value)}},{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)("fieldset",{className:"form-group",children:Object(p.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Your Name",onBlur:this.unameipt})})})}}]),a}(c.a.Component),L=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={uname:"",emailipt:"",psdipt:""},e.emailipt=e.emailipt.bind(Object(N.a)(e)),e.psdipt=e.psdipt.bind(Object(N.a)(e)),e.onSubmit=e.onSubmit.bind(Object(N.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;u.a.subscribe("uname",(function(t,a){e.setState({uname:a})}))}},{key:"isLogin",value:function(){return"/login"===this.props.match.path}},{key:"emailipt",value:function(e){this.setState({emailipt:e.target.value})}},{key:"psdipt",value:function(e){this.setState({psdipt:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),T({method:"post",url:this.state.uname?"/api/users":"/api/users/login",data:{user:{username:this.state.uname?this.state.uname:"",email:this.state.emailipt,password:this.state.psdipt}}}).then((function(e){b.a.set("cook",e.data.user.token),u.a.publish("token",e.data.user.token),t.props.history.push("/home")}))}},{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"auth-page",children:Object(p.jsx)("div",{className:"container page",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(p.jsx)("h1",{className:"text-xs-center",children:this.isLogin()?"Sign in":"Sign up"}),Object(p.jsx)("p",{className:"text-xs-center",children:Object(p.jsx)("a",{href:"",children:this.isLogin()?"Need an account?":"Have an account?"})}),Object(p.jsx)("ul",{style:{display:this.isLogin()?"none":"block"},className:"error-messages",children:Object(p.jsx)("li",{children:"That email is already taken"})}),Object(p.jsxs)("form",{onSubmit:this.onSubmit,children:[this.isLogin()?" ":Object(p.jsx)(A,{}),Object(p.jsx)("fieldset",{className:"form-group",children:Object(p.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email",onBlur:this.emailipt})}),Object(p.jsx)("fieldset",{className:"form-group",children:Object(p.jsx)("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",onBlur:this.psdipt})}),Object(p.jsx)("button",{className:"btn btn-lg btn-primary pull-xs-right",children:this.isLogin()?"Sign in":"Sign up"})]})]})})})})})}}]),a}(c.a.Component),E=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"profile-page",children:[Object(p.jsx)("div",{className:"user-info",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[Object(p.jsx)("img",{src:"https://z3.ax1x.com/2021/04/29/gkpZU1.jpg",className:"user-img"}),Object(p.jsx)("h4",{children:"shuai666666"})]})})})}),Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[Object(p.jsx)("div",{className:"articles-toggle",children:Object(p.jsxs)("ul",{className:"nav nav-pills outline-active",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{className:"nav-link active",href:"",children:"My Articles"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{className:"nav-link",href:"",children:"Favorited Articles"})})]})}),Object(p.jsxs)("div",{className:"article-preview",children:[Object(p.jsxs)("div",{className:"article-meta",children:[Object(p.jsx)("a",{href:"",children:Object(p.jsx)("img",{src:"http://i.imgur.com/Qr71crq.jpg"})}),Object(p.jsxs)("div",{className:"info",children:[Object(p.jsx)("a",{href:"",className:"author",children:"Eric Simons"}),Object(p.jsx)("span",{className:"date",children:"January 20th"})]}),Object(p.jsxs)("button",{className:"btn btn-outline-primary btn-sm pull-xs-right",children:[Object(p.jsx)("i",{className:"ion-heart"})," 29"]})]}),Object(p.jsxs)("a",{href:"",className:"preview-link",children:[Object(p.jsx)("h1",{children:"How to build webapps that scale"}),Object(p.jsx)("p",{children:"This is the description for the post."}),Object(p.jsx)("span",{children:"Read more..."})]})]}),Object(p.jsxs)("div",{className:"article-preview",children:[Object(p.jsxs)("div",{className:"article-meta",children:[Object(p.jsx)("a",{href:"",children:Object(p.jsx)("img",{src:"http://i.imgur.com/N4VcUeJ.jpg"})}),Object(p.jsxs)("div",{className:"info",children:[Object(p.jsx)("a",{href:"",className:"author",children:"Albert Pai"}),Object(p.jsx)("span",{className:"date",children:"January 20th"})]}),Object(p.jsxs)("button",{className:"btn btn-outline-primary btn-sm pull-xs-right",children:[Object(p.jsx)("i",{className:"ion-heart"})," 32"]})]}),Object(p.jsxs)("a",{href:"",className:"preview-link",children:[Object(p.jsx)("h1",{children:"The song you won't ever stop singing. No matter how hard you try."}),Object(p.jsx)("p",{children:"This is the description for the post."}),Object(p.jsx)("span",{children:"Read more..."}),Object(p.jsxs)("ul",{className:"tag-list",children:[Object(p.jsx)("li",{className:"tag-default tag-pill tag-outline",children:"Music"}),Object(p.jsx)("li",{className:"tag-default tag-pill tag-outline",children:"Song"})]})]})]})]})})})]})})}}]),a}(c.a.Component),P=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"settings-page",children:Object(p.jsx)("div",{className:"container page",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(p.jsx)("h1",{className:"text-xs-center",children:"Your Settings"}),Object(p.jsx)("form",{children:Object(p.jsxs)("fieldset",{children:[Object(p.jsx)("fieldset",{className:"form-group",children:Object(p.jsx)("input",{className:"form-control",type:"text",placeholder:"URL of profile picture"})}),Object(p.jsx)("fieldset",{className:"form-group",children:Object(p.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Your Name"})}),Object(p.jsx)("fieldset",{className:"form-group",children:Object(p.jsx)("textarea",{className:"form-control form-control-lg",rows:"8",placeholder:"Short bio about you"})}),Object(p.jsx)("fieldset",{className:"form-group",children:Object(p.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email"})}),Object(p.jsx)("fieldset",{className:"form-group",children:Object(p.jsx)("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password"})}),Object(p.jsx)("button",{className:"btn btn-lg btn-primary pull-xs-right",children:"Update Settings"})]})})]})})})})})}}]),a}(c.a.Component),F=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"editor-page",children:Object(p.jsx)("div",{className:"container page",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-10 offset-md-1 col-xs-12",children:Object(p.jsx)("form",{children:Object(p.jsxs)("fieldset",{children:[Object(p.jsx)("fieldset",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Article Title"})}),Object(p.jsx)("fieldset",{className:"form-group",children:Object(p.jsx)("input",{type:"text",className:"form-control",placeholder:"What's this article about?"})}),Object(p.jsx)("fieldset",{className:"form-group",children:Object(p.jsx)("textarea",{className:"form-control",rows:"8",placeholder:"Write your article (in markdown)"})}),Object(p.jsxs)("fieldset",{className:"form-group",children:[Object(p.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter tags"}),Object(p.jsx)("div",{className:"tag-list"})]}),Object(p.jsx)("button",{className:"btn btn-lg pull-xs-right btn-primary",type:"button",children:"Publish Article"})]})})})})})})})}}]),a}(c.a.Component),M=a(2),U=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsxs)(d.a,{children:[Object(p.jsx)(O,{}),Object(p.jsxs)(M.d,{children:[Object(p.jsx)(M.b,{path:"/home",component:C}),Object(p.jsx)(M.b,{path:"/register",component:b.a.get("cook")?C:L}),Object(p.jsx)(M.b,{path:"/login",component:b.a.get("cook")?C:L}),Object(p.jsx)(M.b,{path:"/create",component:b.a.get("cook")?F:C}),Object(p.jsx)(M.b,{path:"/settings",component:b.a.get("cook")?P:C}),Object(p.jsx)(M.b,{path:"/profile",component:b.a.get("cook")?E:C}),Object(p.jsx)(M.a,{to:"/home"})]}),Object(p.jsx)(x,{})]})})}}]),a}(s.Component);n.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(U,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.62d9412a.chunk.js.map